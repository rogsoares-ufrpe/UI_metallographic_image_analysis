\doxysection{hdf5\+\_\+test.\+py}
\hypertarget{hdf5__test_8py_source}{}\label{hdf5__test_8py_source}\index{source/hdf5\_test.py@{source/hdf5\_test.py}}
\mbox{\hyperlink{hdf5__test_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00001}\mbox{\hyperlink{namespacehdf5__test}{00001}}\ \textcolor{comment}{\#\ -\/*-\/\ coding:\ utf-\/8\ -\/*-\/}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00002}00002\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00003}00003\ \textcolor{stringliteral}{UNIVERSIDADE\ FEDERAL\ RURAL\ DE\ PERNAMBUCO\ -\/\ UFRPE}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00004}00004\ \textcolor{stringliteral}{UNIDADE\ ACADÊMICA\ DO\ CABO\ DE\ SANTO\ AGOSTINHO\ -\/\ UACSA}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00005}00005\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00006}00006\ \textcolor{stringliteral}{@author(s):}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00007}00007\ \textcolor{stringliteral}{\ \ \ \ Rogério\ Soares\ (rogerio.soaress@ufrpe.br)}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00008}00008\ \textcolor{stringliteral}{\ \ \ \ }}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00009}00009\ \textcolor{stringliteral}{Created\ on\ Tue\ May\ 12\ 16:49:17\ 2020}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00010}00010\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00012}00012\ \textcolor{keyword}{import}\ h5py}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00013}00013\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00016}00016\ \textcolor{comment}{\#\ project\_name\ =\ "{}Projects/ferrita"{}}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00017}00017\ \textcolor{comment}{\#\ filename\ =\ project\_name\ +\ "{}.hdf5"{}}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00019}00019\ \textcolor{comment}{\#\ \#\ using\ join()\ +\ ord()\ +\ format()\ }}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00020}00020\ \textcolor{comment}{\#\ \#\ Converting\ String\ to\ binary\ }}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00021}00021\ \textcolor{comment}{\#\ res\ =\ ''.join(format(i,\ 'b')\ for\ i\ in\ bytearray(filename,\ encoding\ ='utf-\/8'))\ }}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00023}00023\ \textcolor{comment}{\#\ with\ h5py.File(filename,\ 'w')\ as\ f:}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00024}00024\ \textcolor{comment}{\#\ \ \ \ \ ds\_param\ =\ f.create\_dataset("{}parameters"{},\ (7,))}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00025}00025\ \textcolor{comment}{\#\ \ \ \ \ ds\_param[0]\ =\ 1234.22}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00026}00026\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00027}00027\ \textcolor{comment}{\#\ \ \ \ \ dt\ =\ h5py.string\_dtype()}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00028}00028\ \textcolor{comment}{\#\ \ \ \ \ ds\_path\ =\ f.create\_dataset("{}path"{},\ (100,),\ dtype=dt)}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00029}00029\ \textcolor{comment}{\#\ \ \ \ \ ds\_path\ =\ np.void(res)}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00030}00030\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00031}00031\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00032}00032\ \textcolor{comment}{\#\ with\ h5py.File(filename,\ 'r')\ as\ f:}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00033}00033\ \textcolor{comment}{\#\ \ \ \ \ data\ =\ f["{}parameters"{}]}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00034}00034\ \textcolor{comment}{\#\ \ \ \ \ print("{}data:\ "{},\ data[0])}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00035}00035\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00036}00036\ \textcolor{comment}{\#\ \ \ \ \ dpath\ =\ f["{}path"{}]}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00037}00037\ \textcolor{comment}{\#\ \ \ \ \ print(dpath[0:9])}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00038}00038\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00039}00039\ \textcolor{comment}{\#!/usr/bin/env\ python}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00040}00040\ \textcolor{stringliteral}{'''Writes\ a\ NeXus\ HDF5\ file\ using\ h5py\ and\ numpy'''}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00042}00042\ \textcolor{keyword}{import}\ h5py\ \ \ \ \textcolor{comment}{\#\ HDF5\ support}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00043}00043\ \textcolor{keyword}{import}\ numpy}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00044}00044\ \textcolor{keyword}{import}\ six}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00046}00046\ print(\textcolor{stringliteral}{"{}Write\ a\ NeXus\ HDF5\ file"{}})}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00047}\mbox{\hyperlink{namespacehdf5__test_a2e49999ed0bbb1c15c8c0abbc160b323}{00047}}\ fileName\ =\ \textcolor{stringliteral}{"{}prj\_test.hdf5"{}}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00048}\mbox{\hyperlink{namespacehdf5__test_af98a066afb40de1317adb86d9fe00f29}{00048}}\ timestamp\ =\ \textcolor{stringliteral}{"{}2010-\/10-\/18T17:17:04-\/0500"{}}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00051}00051\ \textcolor{comment}{\#\ create\ the\ HDF5\ NeXus\ file}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00052}00052\ \textcolor{keyword}{with}\ h5py.File(fileName,\ \textcolor{stringliteral}{"{}w"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00053}00053\ \ \ \ \ \textcolor{comment}{\#\ point\ to\ the\ default\ data\ to\ be\ plotted}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00054}00054\ \ \ \ \ f.attrs[\textcolor{stringliteral}{'default'}]\ \ \ \ \ \ \ \ =\ \textcolor{stringliteral}{'entry'}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00055}00055\ \ \ \ \ \textcolor{comment}{\#\ give\ the\ HDF5\ root\ some\ more\ attributes}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00056}00056\ \ \ \ \ f.attrs[\textcolor{stringliteral}{'file\_name'}]\ \ \ \ \ \ \ \ =\ fileName}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00057}00057\ \ \ \ \ f.attrs[\textcolor{stringliteral}{'file\_time'}]\ \ \ \ \ \ \ \ =\ timestamp}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00058}00058\ \ \ \ \ f.attrs[\textcolor{stringliteral}{'instrument'}]\ \ \ \ \ \ \ =\ \textcolor{stringliteral}{'APS\ USAXS\ at\ 32ID-\/B'}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00059}00059\ \ \ \ \ f.attrs[\textcolor{stringliteral}{'creator'}]\ \ \ \ \ \ \ \ \ \ =\ \textcolor{stringliteral}{'BasicWriter.py'}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00060}00060\ \ \ \ \ f.attrs[\textcolor{stringliteral}{'NeXus\_version'}]\ \ \ \ =\ \textcolor{stringliteral}{'4.3.0'}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00061}00061\ \ \ \ \ f.attrs[\textcolor{stringliteral}{'ha'}]\ =\ 3.453e-\/4}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00063}00063\ print(\textcolor{stringliteral}{"{}wrote\ file:"{}},\ fileName)}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00066}00066\ \textcolor{keyword}{import}\ h5py\ \ \ \ \textcolor{comment}{\#\ HDF5\ support}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00068}00068\ fileName\ =\ \textcolor{stringliteral}{"{}prj\_test.hdf5"{}}}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00069}00069\ \textcolor{keyword}{with}\ h5py.File(fileName,\ \ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00071}00071\ \ \ \ \ \textcolor{keywordflow}{for}\ item\ \textcolor{keywordflow}{in}\ f.attrs.keys():}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ print(item\ +\ \textcolor{stringliteral}{"{}:"{}},\ f.attrs[item])}
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00073}00073\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{hdf5__test_8py_source_l00074}00074\ }

\end{DoxyCode}
