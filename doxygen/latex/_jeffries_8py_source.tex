\doxysection{Jeffries.\+py}
\hypertarget{_jeffries_8py_source}{}\label{_jeffries_8py_source}\index{source/Jeffries.py@{source/Jeffries.py}}
\mbox{\hyperlink{_jeffries_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00001}\mbox{\hyperlink{namespace_jeffries}{00001}}\ \textcolor{comment}{\#\ -\/*-\/\ coding:\ utf-\/8\ -\/*-\/}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00002}00002\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00003}00003\ \textcolor{stringliteral}{UNIVERSIDADE\ FEDERAL\ RURAL\ DE\ PERNAMBUCO\ -\/\ UFRPE}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00004}00004\ \textcolor{stringliteral}{UNIDADE\ ACADÊMICA\ DO\ CABO\ DE\ SANTO\ AGOSTINHO\ -\/\ UACSA}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00005}00005\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00006}00006\ \textcolor{stringliteral}{@author(s):}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00007}00007\ \textcolor{stringliteral}{\ \ \ \ Rogério\ Soares\ (rogerio.soaress@ufrpe.br)}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00008}00008\ \textcolor{stringliteral}{\ \ \ \ }}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00009}00009\ \textcolor{stringliteral}{Created\ on\ Fri\ Apr\ 17\ 21:39:12\ 2020}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00010}00010\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00012}00012\ \textcolor{keyword}{import}\ tkinter\ \textcolor{keyword}{as}\ tk}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00013}00013\ \textcolor{comment}{\#\ from\ tkinter\ import\ messagebox\ as\ msgbox}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00014}00014\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00015}00015\ \textcolor{keyword}{import}\ cv2}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00016}00016\ \textcolor{keyword}{import}\ geometry\ \textcolor{keyword}{as}\ geo}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00017}00017\ \textcolor{keyword}{import}\ random}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00020}\mbox{\hyperlink{namespace_jeffries_ab5f4ee906f74677ba57302355bdbbcb4}{00020}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_jeffries_ab5f4ee906f74677ba57302355bdbbcb4}{procedure}}(image\_analyzer,\ window,\ image\_prop):}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00021}00021\ \ \ \ \ width,\ height\ =\ image\_analyzer.get\_image\_dimensions()}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00022}00022\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00023}00023\ \ \ \ \ r\_px\ =\ \mbox{\hyperlink{namespace_jeffries_a8f1e6b82c282aa081ba3b484c41b8d60}{get\_radius}}(image\_prop)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00024}00024\ \ \ \ \ \textcolor{comment}{\#circunference\ at\ image\ center}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00025}00025\ \ \ \ \ circunference\ =\ [r\_px,\ ((int(width/2),\ int(height/2)))]}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00026}00026\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00027}00027\ \ \ \ \ image\_analyzer.find\_grains()}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00028}00028\ \ \ \ \ inside\_list,\ intercepted\_list\ =\ \mbox{\hyperlink{namespace_jeffries}{Jeffries}}(image\_analyzer,\ circunference)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00029}00029\ \ \ \ \ image\_analyzer.set\_image\_for\_canvas(image\_analyzer.image\_cv)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00030}00030\ \ \ \ \ window.Canvas1.create\_image(55,\ 55,\ image=image\_analyzer.image\_canvas,\ anchor=tk.NW)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00031}00031\ \ \ \ \ geo.draw\_circle2(circunference,\ window)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00032}00032\ \ \ \ \ \textcolor{keywordflow}{return}\ inside\_list,\ intercepted\_list}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00034}00034\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00035}00035\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Planimetric\ Procedure—The\ planimetric\ method\ involves\ an\ actual\ count\ of\ the\ number\ of\ grains\ within\ a\ known}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00036}00036\ \textcolor{stringliteral}{area.\ The\ number\ of\ \ grains\ per\ unit\ area,\ NA\ ,\ is\ used\ to\ determine\ the\ ASTM\ grain\ size\ number,\ G.\ The\ precision\ of}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00037}00037\ \textcolor{stringliteral}{the\ method\ is\ a\ function\ of\ the\ number\ of\ grains\ counted.\ A\ precision\ of\ 60.25\ grain\ size\ units\ can\ be\ attained\ with\ a}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00038}00038\ \textcolor{stringliteral}{reasonable\ amount\ of\ effort.\ Results\ are\ free\ of\ bias\ and\ repeatability\ and\ reproducibility\ are\ less\ than\ 60.5\ grain\ size}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00039}00039\ \textcolor{stringliteral}{units.\ An\ accurate\ count\ does\ require\ marking\ off\ of\ the\ grains\ as\ they\ are\ counted.}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00040}00040\ \textcolor{stringliteral}{Standard\ Test\ Methods\ for\ Determining\ Average\ Grain\ Size}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00041}00041\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00042}\mbox{\hyperlink{namespace_jeffries_a7c51702c5162608f36a8fec7be5fcdc3}{00042}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_jeffries}{Jeffries}}(image\_analyzer,\ circunference):}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00043}00043\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00044}00044\ \ \ \ \ inside\_grains\_list\ =\ []}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00045}00045\ \ \ \ \ intercepted\_grains\_list\ =\ []}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00046}00046\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00047}00047\ \ \ \ \ \textcolor{comment}{\#\ First\ of\ all,\ inscribe\ a\ circle\ (or\ rectangle)\ of\ known\ area\ (usually\ 5000\ mm2\ to\ simplify\ the\ calculations)\ on\ a\ micrograph\ image\ }}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00048}00048\ \ \ \ \ \textcolor{comment}{\#\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00049}00049\ \ \ \ \ radius\ =\ circunference[0]}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00050}00050\ \ \ \ \ center\ =\ circunference[1]\ \ \ \ \ \ \ \textcolor{comment}{\#\ center\ coordinates}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00051}00051\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00052}00052\ \ \ \ \ \textcolor{comment}{\#\ check\ =\ np.array([False,\ False,\ False,\ False])}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00053}00053\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00054}00054\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00055}00055\ \ \ \ \ \textcolor{comment}{\#\ Loop\ over\ all\ grains\ and\ find:\ inetrcepted\ and\ inside\ circle}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00056}00056\ \ \ \ \ \textcolor{comment}{\#\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00057}00057\ \ \ \ \ \textcolor{keywordflow}{for}\ area,\ cnt\ \textcolor{keywordflow}{in}\ zip(image\_analyzer.grains\_area,\ image\_analyzer.grains\_contours):}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ STEP\ 1:\ Highlight\ grains\ contours\ intercepted\ by\ the\ cicle}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/\ -\/}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ ret\ =\ geo.circunference\_conttour\_test(cnt,\ center,\ radius)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ret==-\/1:}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ inside\ color}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ color\ =\ geo.yellow}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ret==1:}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ over\ line\ circunference}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ color\ =\ geo.blue}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ intercepted\_grains\_list.append(area)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ inside\_grains\_list.append(area)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Fill\ with\ YELLOW\ color\ intercepted\ grains}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ cv2.drawContours(image\_analyzer.image\_cv,\ [cnt],\ 0,\ color,\ thickness=cv2.FILLED)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Contours\ of\ intercepted\ grains\ is\ BLACK}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ cv2.drawContours(image\_analyzer.image\_cv,\ [cnt],\ 0,\ geo.black,\ thickness=1)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00081}00081\ \ \ \ \ \textcolor{keywordflow}{return}\ inside\_grains\_list,\ intercepted\_grains\_list}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00084}\mbox{\hyperlink{namespace_jeffries_a2be51af968c1c71bdfeb2ca4cbd73f87}{00084}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_jeffries_a2be51af968c1c71bdfeb2ca4cbd73f87}{get\_grain\_size\_related\_parameters}}(N\_inside,\ N\_intercepted,\ M):}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00085}00085\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00086}00086\ \textcolor{stringliteral}{\ \ \ \ N\_inside\ \ \ \ \ \ -\/\ Number\ of\ grains\ inside\ circunferene}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00087}00087\ \textcolor{stringliteral}{\ \ \ \ N\_intercepted\ -\/\ NUmber\ of\ grains\ intercepted\ by\ circunference}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00088}00088\ \textcolor{stringliteral}{\ \ \ \ }}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00089}00089\ \textcolor{stringliteral}{\ \ \ \ Returns:}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Na\ \ \ \ \ \ -\/\ number\ of\ grains\ per\ mm2}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00091}00091\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ A\_mean\ \ -\/\ mean\ grain\ area}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00092}00092\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ d\ \ \ \ \ \ \ -\/\ mean\ grain\ diamenter}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00093}00093\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ G\ \ \ \ \ \ \ -\/\ ASTM\ grain\ size\ number}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00094}00094\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00096}00096\ \ \ \ \ f\ =\ 0.0002*M\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Jeffries\ multiplier}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00097}00097\ \ \ \ \ Na\ =\ f*(N\_inside\ +\ 0.5*N\_intercepted)\ \ \ \ \textcolor{comment}{\#\ Number\ of\ grains\ per\ square\ millimetre}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00098}00098\ \ \ \ \ A\_mean\ =\ 1/Na}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00099}00099\ \ \ \ \ d\_mean\ =\ np.sqrt(A\_mean)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00100}00100\ \ \ \ \ G\ =\ 3.321928*np.log10(Na)\ -\/\ 2.954}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00101}00101\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00102}00102\ \ \ \ \ \textcolor{keywordflow}{return}\ Na,\ A\_mean,\ d\_mean,\ G}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00103}00103\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00105}\mbox{\hyperlink{namespace_jeffries_a58ec61dbcad2c0adc659b5bfa4516fbb}{00105}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_jeffries_a58ec61dbcad2c0adc659b5bfa4516fbb}{run\_jeffries\_analysis}}(image\_analyzer,\ window,\ image\_prop):}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00106}00106\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Jeffries\ procedure\ is\ applied\ N\ times\ to\ the\ same\ image\ for\ different}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00107}00107\ \textcolor{stringliteral}{\ \ \ \ patterns.\ For\ each\ one,\ a\ G\ number\ is\ calculated\ and\ then\ an\ histogram\ built.}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00108}00108\ \textcolor{stringliteral}{\ \ \ \ N\ -\/\ number\ of\ tests"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00109}00109\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00110}00110\ \ \ \ \ \textcolor{stringliteral}{"{}The\ ASTM\ article\ E-\/112\ suggests\ a\ circunfence\ of\ 5000mm2\ which\ gives\ R=39,894228mm"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00111}00111\ \ \ \ \ ret\ =\ image\_analyzer.find\_grains()}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00112}00112\ \ \ \ \ \textcolor{keywordflow}{if}\ ret==-\/1:}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00114}00114\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00115}00115\ \ \ \ \ width,\ height\ =\ image\_analyzer.get\_image\_dimensions()}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00116}00116\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00117}00117\ \ \ \ \ \textcolor{comment}{\#\ number\ of\ tests\ field}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00118}00118\ \ \ \ \ n\ =\ 60}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00119}00119\ \ \ \ \ n\_bins\ =\ int(n/5)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00120}00120\ \ \ \ \ w\_offset\ =\ int(image\_prop.width*0)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00121}00121\ \ \ \ \ h\_offset\ =\ int(image\_prop.height*0)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00122}00122\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00123}00123\ \ \ \ \ R\ =\ \mbox{\hyperlink{namespace_jeffries_a8f1e6b82c282aa081ba3b484c41b8d60}{get\_radius}}(image\_prop)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00124}00124\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00125}00125\ \ \ \ \ \textcolor{stringliteral}{"{}Define\ the\ region\ where\ the\ center\ of\ circunference\ can\ be\ placed."{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00126}00126\ \ \ \ \ \textcolor{stringliteral}{"{}W:\ \{(x,y):\ w\_offset+R\ <=\ x\ <=\ width\ -\/\ R\ -\/\ w\_offset,\ h\_offset+R\ <=\ y\ <=\ height\ -\/\ R\ -\/\ h\_offset"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00127}00127\ \ \ \ \ w\_lower\ =\ w\_offset\ +\ R}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00128}00128\ \ \ \ \ w\_upper\ =\ image\_prop.width\ -\/\ (R\ +\ w\_offset)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00129}00129\ \ \ \ \ h\_lower\ =\ h\_offset\ +\ R}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00130}00130\ \ \ \ \ h\_upper\ =\ image\_prop.height\ -\/\ (R\ +\ h\_offset)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00131}00131\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00132}00132\ \ \ \ \ \textcolor{comment}{\#\ define\ and\ initialize\ circunference}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00133}00133\ \ \ \ \ circunference\ =\ [R,\ (0,0)]}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00134}00134\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00135}00135\ \ \ \ \ G\_arr\ =\ np.zeros(n)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00136}00136\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(n):}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ x\ =\ random.randint(w\_lower,\ w\_upper)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ y\ =\ random.randint(h\_lower,\ h\_upper)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00139}00139\ \ \ \ \ \ \ \ \ circunference[1]\ =\ (x,y)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ in\_list,\ inter\_list\ =\ \mbox{\hyperlink{namespace_jeffries}{Jeffries}}(image\_analyzer,\ circunference)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ N\_inside\ =\ len(in\_list)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00143}00143\ \ \ \ \ \ \ \ \ N\_inter\ =\ len(inter\_list)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00144}00144\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}grains\ \%d\ (inside)\ \%d\ (intercepted)"{}\ \%\ (N\_inside,\ N\_inter\ ))}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ Na,\ A\_mean,\ d\_mean,\ G\ =\ \mbox{\hyperlink{namespace_jeffries_a2be51af968c1c71bdfeb2ca4cbd73f87}{get\_grain\_size\_related\_parameters}}(N\_inside,\ N\_inter,\ image\_prop)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print(G)}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ G\_arr[i]\ =\ G}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ geo.draw\_circle((x,y),\ R,\ window)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ in\_list.clear()}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ inter\_list.clear()}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00152}00152\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00153}00153\ \ \ \ \ \textcolor{keywordflow}{return}\ G\_arr,\ n\_bins}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00156}\mbox{\hyperlink{namespace_jeffries_a8f1e6b82c282aa081ba3b484c41b8d60}{00156}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespace_jeffries_a8f1e6b82c282aa081ba3b484c41b8d60}{get\_radius}}(image\_prop):}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00157}00157\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Get\ radius\ in\ pixels\ based\ on\ the\ image\ scale\ provided"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00158}00158\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00159}00159\ \ \ \ \ \textcolor{comment}{\#\ Circunference\ radius\ over\ image\ should\ have\ 39.9mm.\ This\ value\ will\ be\ convrted}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00160}00160\ \ \ \ \ \textcolor{comment}{\#\ to\ thw\ real\ area\ through\ Magnification\ applied:}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00161}00161\ \ \ \ \ print(\textcolor{stringliteral}{"{}Magnification:\ "{}},\ image\_prop.M)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00162}00162\ \ \ \ \ radius\ =\ 39894.228/image\_prop.M}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00163}00163\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00164}00164\ \ \ \ \ \textcolor{comment}{\#\ Let's\ convert\ this\ value\ to\ pixels}}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00165}00165\ \ \ \ \ \textcolor{keywordflow}{return}\ image\_prop.um\_to\_px(radius)}
\DoxyCodeLine{\Hypertarget{_jeffries_8py_source_l00166}00166\ }

\end{DoxyCode}
